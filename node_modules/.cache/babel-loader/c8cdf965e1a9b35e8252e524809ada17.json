{"ast":null,"code":"import _classCallCheck from\"D:\\\\Star Wars\\\\front-end\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\Star Wars\\\\front-end\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"D:\\\\Star Wars\\\\front-end\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"D:\\\\Star Wars\\\\front-end\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"D:\\\\Star Wars\\\\front-end\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from'react';import{connect}from'react-redux';import SingleEntityPage from'./SingleEntityPage';import{getId,getEntity}from'../../functions';import{Link}from'react-router-dom';import fieldsToDisplay from'../../fields_to_display';import ErrorPage from'../ErrorPage/ErrorPage';var SingleEntityPageContainer=/*#__PURE__*/function(_Component){_inherits(SingleEntityPageContainer,_Component);function SingleEntityPageContainer(){var _getPrototypeOf2;var _this;_classCallCheck(this,SingleEntityPageContainer);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(SingleEntityPageContainer)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.getLinks=function(arr){var data=_this.props.data;return arr.map(function(elem){var entity=getEntity(elem);var id=getId(elem);var obj=data[entity].find(function(elem){return getId(elem.url)===id;});if(obj.title!==undefined){return React.createElement(Link,{className:\"single-entity__link\",key:obj.url+Math.random(),to:\"/\".concat(entity,\"/\").concat(id)},obj.title);}else{return React.createElement(Link,{className:\"single-entity__link\",key:obj.url+Math.random(),to:\"/\".concat(entity,\"/\").concat(id)},obj.name);}});};return _this;}_createClass(SingleEntityPageContainer,[{key:\"componentDidMount\",value:function componentDidMount(){window.scrollTo(0,0);}},{key:\"componentDidUpdate\",value:function componentDidUpdate(){window.scrollTo(0,0);}},{key:\"render\",value:function render(){var data=this.props.data;var _this$props$match$par=this.props.match.params,entity=_this$props$match$par.entity,id=_this$props$match$par.id;var currentEntity=null;if(data[entity]!==undefined){currentEntity=data[entity].find(function(elem){return getId(elem.url)===id;});}return React.createElement(React.Fragment,null,currentEntity&&React.createElement(SingleEntityPage,{fieldsToRender:fieldsToDisplay[entity],getLinks:this.getLinks,entity:data[entity].find(function(elem){return getId(elem.url)===id;})}),(currentEntity===undefined||currentEntity===null)&&React.createElement(ErrorPage,null));}}]);return SingleEntityPageContainer;}(Component);export default connect(function(state){return{data:state.data};})(SingleEntityPageContainer);","map":{"version":3,"sources":["D:/Star Wars/front-end/src/components/SingleEntityPage/SingleEntityPageContainer.js"],"names":["React","Component","connect","SingleEntityPage","getId","getEntity","Link","fieldsToDisplay","ErrorPage","SingleEntityPageContainer","getLinks","arr","data","props","map","elem","entity","id","obj","find","url","title","undefined","Math","random","name","window","scrollTo","match","params","currentEntity","state"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { connect } from 'react-redux';\r\nimport SingleEntityPage from './SingleEntityPage'\r\nimport { getId, getEntity } from '../../functions'\r\nimport { Link } from 'react-router-dom'\r\nimport fieldsToDisplay from '../../fields_to_display'\r\nimport ErrorPage from '../ErrorPage/ErrorPage';\r\n\r\nclass SingleEntityPageContainer extends Component {\r\n    componentDidMount() {\r\n        window.scrollTo(0, 0);\r\n    }\r\n    componentDidUpdate() {\r\n        window.scrollTo(0, 0);\r\n    }\r\n    getLinks = (arr) => {\r\n        const { data } = this.props;\r\n        return arr.map(elem => {\r\n            let entity = getEntity(elem);\r\n            let id = getId(elem);\r\n            let obj = data[entity].find(elem => getId(elem.url) === id);\r\n            if (obj.title !== undefined) {\r\n                return (\r\n                    <Link className=\"single-entity__link\" key={obj.url + Math.random()} to={`/${entity}/${id}`}>{obj.title}</Link>\r\n                )\r\n            } else {\r\n                return (\r\n                    <Link className=\"single-entity__link\" key={obj.url + Math.random()} to={`/${entity}/${id}`}>{obj.name}</Link>\r\n                )\r\n            }\r\n        })\r\n    }\r\n    render() {\r\n        const { data } = this.props;\r\n        const { entity, id } = this.props.match.params;\r\n        let currentEntity = null;\r\n        if (data[entity] !== undefined) {\r\n            currentEntity = data[entity].find(elem => getId(elem.url) === id);\r\n        }\r\n        return (\r\n            <>\r\n                {\r\n                    currentEntity && <SingleEntityPage\r\n                        fieldsToRender={fieldsToDisplay[entity]}\r\n                        getLinks={this.getLinks}\r\n                        entity={data[entity].find(elem => getId(elem.url) === id)}\r\n                    />\r\n                }\r\n                {\r\n                    ((currentEntity === undefined) || (currentEntity === null)) && <ErrorPage />\r\n                }\r\n            </>\r\n        )\r\n    }\r\n}\r\nexport default connect(state => ({\r\n    data: state.data,\r\n}))(SingleEntityPageContainer);\r\n"]},"metadata":{},"sourceType":"module"}